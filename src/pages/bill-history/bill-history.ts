import { Component } from '@angular/core';
import { IonicPage, NavController, NavParams, LoadingController, ToastController } from 'ionic-angular';
import { ApiproviderProvider } from '../../providers/apiprovider/apiprovider';

import { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';
import { File } from '@ionic-native/file'

import { TranslateService } from '@ngx-translate/core';
import { AuthserviceProvider } from '../../providers/authservice/authservice';
import { ServiceProvider } from '../../providers/service/service';

import { Base64 } from '@ionic-native/base64';


/**
 * Generated class for the BillHistoryPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */

@IonicPage()
@Component({
  selector: 'page-bill-history',
  templateUrl: 'bill-history.html',
})
export class BillHistoryPage {

  fileTransfer: FileTransferObject = this.transfer.create();

  public user_Data = { "username": "", "address": "", "email": "", "phone": "", "status": "" };
  public send_data: any[];


  public detail_Data = [];

  constructor(public navCtrl: NavController, public navParams: NavParams, public loadingCtrl: LoadingController
    , public toastCtrl: ToastController, public apiprovider: ApiproviderProvider, public transfer: FileTransfer, public file: File
    , public translate: TranslateService, public authservice: AuthserviceProvider, public bill_service: ServiceProvider,
    public base64: Base64) {
  }

  ionViewDidLoad() {
    console.log('ionViewDidLoad BillHistoryPage');
    this.ionicInit();

  }

  goback() {
    this.navCtrl.pop();
  }

  ionicInit() {
    let loading = this.loadingCtrl.create({
      content: "Please Wait..."
    });
    loading.present();

    this.bill_service.get_billList()

      .subscribe(
        data => {
          if (data) {
            console.log(localStorage.getItem("set_lng"));
            if (typeof (localStorage.getItem("set_lng")) == "undefined" || localStorage.getItem("set_lng") == "" || localStorage.getItem("set_lng") == null) {
              this.translate.use('en');
            } else {
              this.translate.use(localStorage.getItem("set_lng"));
            }
            this.user_Data.email = localStorage.getItem("user_email");
            this.detail_Data = Array();
            for (let list of data.Items) {
              let array_data = { "bill_num": "", "due_date": "", "amount_owin": "" };
              array_data.bill_num = list.Number.replace(/ /g, '');
              array_data.amount_owin = list.AmountDue;
              array_data.due_date = (list.DueDate.split("T")[0]);
              this.detail_Data.push(array_data);

            }
            this.convert_billList();
            console.log(data);
            // console.log(this.bill_data);
          }
          loading.dismiss();
        },
        error => {
          loading.dismiss();
        });
  }

  convert_billList() {
    let sam = this.detail_Data;
    this.detail_Data = new Array();
    for (let i = sam.length - 1; i >= 0; i--) {
      this.detail_Data.push(sam[i]);
    }
  }

  set_date(value) {
    let array_sam = value.split("-");
    console.log(array_sam);
    return array_sam[1] + "-" + array_sam[2] + "-" + array_sam[0];
  }


  download(index) {
    console.log(this.detail_Data[index]);
    let status = "download_bill";
    let bill_download = { "bill_num": "", "due_date": "", "amount_owin": "", "status": "download_bill", "index": "" };
    bill_download.bill_num = this.detail_Data[index].bill_num;
    bill_download.due_date = this.detail_Data[index].due_date;
    bill_download.amount_owin = this.detail_Data[index].amount_owin;
    bill_download.index = index;

    let loading = this.loadingCtrl.create({
      content: "Please Wait..."
    });
    loading.present();

    console.log(this.detail_Data[index].bill_num);
    console.log(this.detail_Data[index].bill_num);

    this.bill_service.get_billFile(this.detail_Data[index].bill_num).subscribe(result => {
      console.log(result);
      loading.dismiss();
    }, error => {
      loading.dismiss();
    });

    // this.download_pdf(index);



    let pdf_byte = "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â€¦TYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAozMzMgCjg4OSAKMjc4IAo1NTYgCjcyMiAKNTU2IAo3NzggCjYxMSAKNjExIAo2NjcgCjk0NCAKNjExIAozMzMgCjMzMyAKNTg0IAo1ODQgCjYxMSAKNTU2IAo1NTYgCjI3OCAKNTU2IAo1NTYgCjU1NiAKNjY3IAo2MTEgCjY2NyAKNzc4IAo2NjcgCjcyMiAKNjExIAo2MTEgCjU1NiAKMjc4IAo3MjIgCjUwMCAKMjM4IAo3MjIgCjc3OCAKMzMzIAo1NTYgCjMzMyAKNzIyIAo3NzggCl0gCmVuZG9iaiAKMzIgMCBvYmogCi9BQUFBQUErQXJpYWwtQm9sZCAKZW5kb2JqIAozNCAwIG9iaiAKPDwgCi9UeXBlIC9Gb250RGVzY3JpcHRvciAKL0FzY2VudCA5MDUgCi9DYXBIZWlnaHQgNTAwIAovRGVzY2VudCAtMjEyIAovRmxhZ3MgNSAKL0ZvbnRCQm94IDM1IDAgUiAKL0ZvbnROYW1lIDMyIDAgUiAKL0l0YWxpY0FuZ2xlIDAKL1N0ZW1WIDAgCi9TdGVtSCAwIAovQXZnV2lkdGggNDc5IAovRm9udEZpbGUyIDM2IDAgUiAKL0xlYWRpbmcgMCAKL01heFdpZHRoIDI2MjggCi9NaXNzaW5nV2lkdGggNDc5IAovWEhlaWdodCAwIAo+PiAKZW5kb2JqIAozNSAwIG9iaiAKWyAtNjI4IC0zNzYgMjAwMCAxMDEwIF0gCmVuZG9iaiAKMzcgMCBvYmogClsgCjY2NyAKMjc4IAo1NTYgCjU1NiAKNTU2IAoyNzggCjM4OSAKMzMzIAo2MTEgCjYxMSAKNjExIAoyNzggCjU1NiAKNjExIAo3NzggCjU1NiAKNjExIAo4ODkgCl0gCmVuZG9iaiAKMzggMCBvYmogCi9BQUFBQUQrQXJpYWwtQm9sZEl0YWxpYyAKZW5kb2JqIAo0MCAwIG9iaiAKPDwgCi9UeXBlIC9Gb250RGVzY3JpcHRvciAKL0FzY2VudCA5MDUgCi9DYXBIZWlnaHQgNTAwIAovRGVzY2VudCAtMjEyIAovRmxhZ3MgNjkgCi9Gb250QkJveCA0MSAwIFIgCi9Gb250TmFtZSAzOCAwIFIgCi9JdGFsaWNBbmdsZSAtMTIKL1N0ZW1WIDAgCi9TdGVtSCAwIAovQXZnV2lkdGggNDc5IAovRm9udEZpbGUyIDQyIDAgUiAKL0xlYWRpbmcgMCAKL01heFdpZHRoIDE3MTYgCi9NaXNzaW5nV2lkdGggNDc5IAovWEhlaWdodCAwIAo+PiAKZW5kb2JqIAo0MSAwIG9iaiAKWyAtNTYwIC0zNzYgMTE1NyAxMDAwIF0gCmVuZG9iaiAKNDMgMCBvYmogClsgCjk0NCAKNTU2IAo1NTYgCjU1NiAKMjc4IAo1NTYgCjU1NiAKNTAwIAoyMjIgCjU1NiAKNTU2IAo2NjcgCjYxMSAKNjExIAoyNzggCjIyMiAKNTAwIAo1MDAgCjU1NiAKNTU2IAo1NTYgCjMzMyAKNTAwIAo4MzMgCjI3OCAKMjc4IAoyNzggCjY2NyAKNTU2IAo1NTYgCjg4OSAKNjY3IAo2NjcgCjgzMyAKNzc4IAo2NjcgCjUwMCAKXSAKZW5kb2JqIAo0NCAwIG9iaiAKL0FBQUFBQytBcmlhbC1JdGFsaWMgCmVuZG9iaiAKNDYgMCBvYmogCjw8IAovVHlwZSAvRm9udERlc2NyaXB0b3IgCi9Bc2NlbnQgOTA1IAovQ2FwSGVpZ2h0IDUwMCAKL0Rlc2NlbnQgLTIxMiAKL0ZsYWdzIDY5IAovRm9udEJCb3ggNDcgMCBSIAovRm9udE5hbWUgNDQgMCBSIAovSXRhbGljQW5nbGUgLTEyCi9TdGVtViAwIAovU3RlbUggMCAKL0F2Z1dpZHRoIDQ0MSAKL0ZvbnRGaWxlMiA0OCAwIFIgCi9MZWFkaW5nIDAgCi9NYXhXaWR0aCAxNTk5IAovTWlzc2luZ1dpZHRoIDQ0MSAKL1hIZWlnaHQgMCAKPj4gCmVuZG9iaiAKNDcgMCBvYmogClsgLTUxNyAtMzI1IDEwODIgOTk4IF0gCmVuZG9iaiAKNDkgMCBvYmogClsgCjU1NiAKNTU2IAoyNzggCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1MDAgCjIyMiAKNTU2IAo3MjIgCjU1NiAKMzMzIAo1NTYgCjUwMCAKNjY3IAoyNzggCjUwMCAKNTU2IAo3MjIgCjk0NCAKNzM3IAo1NTYgCjIyMiAKNTAwIAo1NTYgCjgzMyAKMjc4IAo1NTYgCjU1NiAKNTAwIAo1NTYgCjI3OCAKNjY3IAo3MjIgCjU1NiAKNjY3IAo3MjIgCjU1NiAKNjY3IAo1NTYgCjI3OCAKNzc4IAo3NzggCjU1NiAKNjY3IAo2NjcgCjgzMyAKNzIyIAo2NjcgCjMzMyAKNjExIAozMzMgCjUwMCAKMzMzIAo1MDAgCjI3OCAKNTAwIAo3MjIgCl0gCmVuZG9iaiAKNTAgMCBvYmogCi9BQUFBQUIrQXJpYWwgCmVuZG9iaiAKNTIgMCBvYmogCjw8IAovVHlwZSAvRm9udERlc2NyaXB0b3IgCi9Bc2NlbnQgOTA1IAovQ2FwSGVpZ2h0IDUwMCAKL0Rlc2NlbnQgLTIxMiAKL0ZsYWdzIDUgCi9Gb250QkJveCA1MyAwIFIgCi9Gb250TmFtZSA1MCAwIFIgCi9JdGFsaWNBbmdsZSAwCi9TdGVtViAwIAovU3RlbUggMCAKL0F2Z1dpZHRoIDQ0MSAKL0ZvbnRGaWxlMiA1NCAwIFIgCi9MZWFkaW5nIDAgCi9NYXhXaWR0aCAyNjY1IAovTWlzc2luZ1dpZHRoIDQ0MSAKL1hIZWlnaHQgMCAKPj4gCmVuZG9iaiAKNTMgMCBvYmogClsgLTY2NSAtMzI1IDIwMDAgMTAwNiBdIAplbmRvYmogCjU1IDAgb2JqIAooUG93ZXJlZCBCeSBDcnlzdGFsKSAKZW5kb2JqIAo1NiAwIG9iaiAKKENyeXN0YWwgUmVwb3J0cykgCmVuZG9iaiAKNTcgMCBvYmogCjw8IAovUHJvZHVjZXIgKFBvd2VyZWQgQnkgQ3J5c3RhbCkgIAovQ3JlYXRvciAoQ3J5c3RhbCBSZXBvcnRzKSAgCj4+IAplbmRvYmogCnhyZWYgCjAgNTggCjAwMDAwMDAwMDAgNjU1MzUgZiAKMDAwMDAwMDAxNyAwMDAwMCBuIAowMDAwMDc1MDIzIDAwMDAwIG4gCjAwMDAwNzUxMjkgMDAwMDAgbiAKMDAwMDA3NTE2MyAwMDAwMCBuIAowMDAwMDAwMTk0IDAwMDAwIG4gCjAwMDAwNzUxOTcgMDAwMDAgbiAKMDAwMDA3NTQyMSAwMDAwMCBuIAowMDAwMDc1NDc5IDAwMDAwIG4gCjAwMDAwNzU1NzEgMDAwMDAgbiAKMDAwMDA3NTc0NiAwMDAwMCBuIAowMDAwMDc1OTIxIDAwMDAwIG4gCjAwMDAwOTQ4NDEgMDAwMDAgbiAKMDAwMDA5NDg3MSAwMDAwMCBuIAowMDAwMTA0NDQxIDAwMDAwIG4gCjAwMDAxMDQ0NzEgMDAwMDAgbiAKMDAwMDEwODQwNSAwMDAwMCBuIAowMDAwMTA4NDM1IDAwMDAwIG4gCjAwMDAxMDg2MTAgMDAwMDAgbiAKMDAwMDExMzc0MCAwMDAwMCBuIAowMDAwMTEzNzcwIDAwMDAwIG4gCjAwMDAxMTQ5NDAgMDAwMDAgbiAKMDAwMDExNDk3MCAwMDAwMCBuIAowMDAwMTE5NDA1IDAwMDAwIG4gCjAwMDAxMTk0MzUgMDAwMDAgbiAKMDAwMDEyMDQwOSAwMDAwMCBuIAowMDAwMTIwNDM5IDAwMDAwIG4gCjAwMDAwMDM0MDMgMDAwMDAgbiAKMDAwMDEyMDYxNCAwMDAwMCBuIAowMDAwMTIwNzI2IDAwMDAwIG4gCjAwMDAxMjA3ODUgMDAwMDAgbiAKMDAwMDEyMDg4MCAwMDAwMCBuIAowMDAwMTIxMjU0IDAwMDAwIG4gCjAwMDAwMDQ3OTMgMDAwMDAgbiAKMDAwMDEyMTI5MiAwMDAwMCBuIAowMDAwMTIxNTU5IDAwMDAwIG4gCjAwMDAwMDU1NDQgMDAwMDAgbiAKMDAwMDEyMTYwMiAwMDAwMCBuIAowMDAwMTIxNzE2IDAwMDAwIG4gCjAwMDAwMjcxNDEgMDAwMDAgbiAKMDAwMDEyMTc2MCAwMDAwMCBuIAowMDAwMTIyMDMwIDAwMDAwIG4gCjAwMDAwMjc1NjAgMDAwMDAgbiAKMDAwMDEyMjA3MyAwMDAwMCBuIAowMDAwMTIyMjgyIDAwMDAwIG4gCjAwMDAwMzgyMzcgMDAwMDAgbiAKMDAwMDEyMjMyMiAwMDAwMCBuIAowMDAwMTIyNTkyIDAwMDAwIG4gCjAwMDAwMzg3NzkgMDAwMDAgbiAKMDAwMDEyMjYzNCAwMDAwMCBuIAowMDAwMTIyOTczIDAwMDAwIG4gCjAwMDAwNTA5MTggMDAwMDAgbiAKMDAwMDEyMzAwNiAwMDAwMCBuIAowMDAwMTIzMjczIDAwMDAwIG4gCjAwMDAwNTE2MTcgMDAwMDAgbiAKMDAwMDEyMzMxNiAwMDAwMCBuIAowMDAwMTIzMzU2IDAwMDAwIG4gCjAwMDAxMjMzOTMgMDAwMDAgbiAKdHJhaWxlciAKPDwgCi9TaXplIDU4IAovUm9vdCAxIDAgUiAKL0luZm8gNTcgMCBSIAo+PiAKc3RhcnR4cmVmIAoxMjM0ODEgCiUlRU9GIAo=";

    window.open("data:application/pdf;base64," + pdf_byte, "_blank");

    // console.log(this.convertBaseb64ToBlob(pdf_byte, "data:application/pdf;base64"))

    // console.log(bill_download);
  }

  download_pdf(index) {
    const url = "http://localhost/test_php/MyPDF.pdf";

    // file:///storage/emulated/0/Android/data/com.self.serviceapp/files/MyPDF2.pdf

    this.file.checkDir('file:///storage/emulated/0/', 'Self_Service').then((result_check) => {

      console.log(result_check);


      let pdf_byte = "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â€¦zIyIAo3MjIgCjY2NyAKNjExIAo2MTEgCjM4OSAKNTU2IAo1NTYgCjMzMyAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo4MzMgCjU1NiAKNTU2IAo4ODkgCjYxMSAKNTU2IAo3MjIgCjc3OCAKNjExIAo5NDQgCjMzMyAKNTg0IAo1ODQgCjU1NiAKMjc4IAo1NTYgCjU1NiAKMjc4IAo1NTYgCjY2NyAKNjY3IAo3NzggCjY2NyAKNzIyIAo2MTEgCjYxMSAKNzIyIAoyMzggCjcyMiAKNzc4IAozMzMgCjMzMyAKNTU2IAo3MjIgCl0gCmVuZG9iaiAKMzIgMCBvYmogCi9BQUFBQUErQXJpYWwtQm9sZCAKZW5kb2JqIAozNCAwIG9iaiAKPDwgCi9UeXBlIC9Gb250RGVzY3JpcHRvciAKL0FzY2VudCA5MDUgCi9DYXBIZWlnaHQgNTAwIAovRGVzY2VudCAtMjEyIAovRmxhZ3MgNSAKL0ZvbnRCQm94IDM1IDAgUiAKL0ZvbnROYW1lIDMyIDAgUiAKL0l0YWxpY0FuZ2xlIDAKL1N0ZW1WIDAgCi9TdGVtSCAwIAovQXZnV2lkdGggNDc5IAovRm9udEZpbGUyIDM2IDAgUiAKL0xlYWRpbmcgMCAKL01heFdpZHRoIDI2MjggCi9NaXNzaW5nV2lkdGggNDc5IAovWEhlaWdodCAwIAo+PiAKZW5kb2JqIAozNSAwIG9iaiAKWyAtNjI4IC0zNzYgMjAwMCAxMDEwIF0gCmVuZG9iaiAKMzcgMCBvYmogClsgCjY2NyAKMjc4IAo1NTYgCjU1NiAKNTU2IAoyNzggCjM4OSAKMzMzIAo2MTEgCjYxMSAKNjExIAoyNzggCjU1NiAKNjExIAo3NzggCjU1NiAKNjExIAo4ODkgCl0gCmVuZG9iaiAKMzggMCBvYmogCi9BQUFBQUQrQXJpYWwtQm9sZEl0YWxpYyAKZW5kb2JqIAo0MCAwIG9iaiAKPDwgCi9UeXBlIC9Gb250RGVzY3JpcHRvciAKL0FzY2VudCA5MDUgCi9DYXBIZWlnaHQgNTAwIAovRGVzY2VudCAtMjEyIAovRmxhZ3MgNjkgCi9Gb250QkJveCA0MSAwIFIgCi9Gb250TmFtZSAzOCAwIFIgCi9JdGFsaWNBbmdsZSAtMTIKL1N0ZW1WIDAgCi9TdGVtSCAwIAovQXZnV2lkdGggNDc5IAovRm9udEZpbGUyIDQyIDAgUiAKL0xlYWRpbmcgMCAKL01heFdpZHRoIDE3MTYgCi9NaXNzaW5nV2lkdGggNDc5IAovWEhlaWdodCAwIAo+PiAKZW5kb2JqIAo0MSAwIG9iaiAKWyAtNTYwIC0zNzYgMTE1NyAxMDAwIF0gCmVuZG9iaiAKNDMgMCBvYmogClsgCjk0NCAKNTU2IAo1NTYgCjU1NiAKMjc4IAo1NTYgCjU1NiAKNTAwIAoyMjIgCjU1NiAKNTU2IAo2NjcgCjYxMSAKNjExIAoyNzggCjIyMiAKNTAwIAo1MDAgCjU1NiAKNTU2IAo1NTYgCjMzMyAKNTAwIAo4MzMgCjI3OCAKMjc4IAoyNzggCjY2NyAKNTU2IAo1NTYgCjg4OSAKNjY3IAo2NjcgCjgzMyAKNzc4IAo2NjcgCjUwMCAKXSAKZW5kb2JqIAo0NCAwIG9iaiAKL0FBQUFBQytBcmlhbC1JdGFsaWMgCmVuZG9iaiAKNDYgMCBvYmogCjw8IAovVHlwZSAvRm9udERlc2NyaXB0b3IgCi9Bc2NlbnQgOTA1IAovQ2FwSGVpZ2h0IDUwMCAKL0Rlc2NlbnQgLTIxMiAKL0ZsYWdzIDY5IAovRm9udEJCb3ggNDcgMCBSIAovRm9udE5hbWUgNDQgMCBSIAovSXRhbGljQW5nbGUgLTEyCi9TdGVtViAwIAovU3RlbUggMCAKL0F2Z1dpZHRoIDQ0MSAKL0ZvbnRGaWxlMiA0OCAwIFIgCi9MZWFkaW5nIDAgCi9NYXhXaWR0aCAxNTk5IAovTWlzc2luZ1dpZHRoIDQ0MSAKL1hIZWlnaHQgMCAKPj4gCmVuZG9iaiAKNDcgMCBvYmogClsgLTUxNyAtMzI1IDEwODIgOTk4IF0gCmVuZG9iaiAKNDkgMCBvYmogClsgCjU1NiAKNTU2IAoyNzggCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNjY3IAo2NjcgCjU1NiAKNzIyIAo2NjcgCjcyMiAKNzIyIAo2NjcgCjYxMSAKNTAwIAo1NTYgCjU1NiAKNTU2IAo5NDQgCjczNyAKMjc4IAo1NTYgCjIyMiAKNTAwIAo1NTYgCjU1NiAKODMzIAo1MDAgCjI3OCAKMzMzIAo1NTYgCjU1NiAKNTAwIAo1NTYgCjI3OCAKNzIyIAoyMjIgCjU1NiAKNTAwIAo3MjIgCjU1NiAKNjY3IAo1NTYgCjI3OCAKNzc4IAozMzMgCjgzMyAKNTU2IAoyNzggCjcyMiAKNjY3IAo3NzggCjMzMyAKNTAwIAozMzMgCjI3OCAKNjY3IAo1MDAgCjUwMCAKMjc4IApdIAplbmRvYmogCjUwIDAgb2JqIAovQUFBQUFCK0FyaWFsIAplbmRvYmogCjUyIDAgb2JqIAo8PCAKL1R5cGUgL0ZvbnREZXNjcmlwdG9yIAovQXNjZW50IDkwNSAKL0NhcEhlaWdodCA1MDAgCi9EZXNjZW50IC0yMTIgCi9GbGFncyA1IAovRm9udEJCb3ggNTMgMCBSIAovRm9udE5hbWUgNTAgMCBSIAovSXRhbGljQW5nbGUgMAovU3RlbVYgMCAKL1N0ZW1IIDAgCi9BdmdXaWR0aCA0NDEgCi9Gb250RmlsZTIgNTQgMCBSIAovTGVhZGluZyAwIAovTWF4V2lkdGggMjY2NSAKL01pc3NpbmdXaWR0aCA0NDEgCi9YSGVpZ2h0IDAgCj4+IAplbmRvYmogCjUzIDAgb2JqIApbIC02NjUgLTMyNSAyMDAwIDEwMDYgXSAKZW5kb2JqIAo1NSAwIG9iaiAKKFBvd2VyZWQgQnkgQ3J5c3RhbCkgCmVuZG9iaiAKNTYgMCBvYmogCihDcnlzdGFsIFJlcG9ydHMpIAplbmRvYmogCjU3IDAgb2JqIAo8PCAKL1Byb2R1Y2VyIChQb3dlcmVkIEJ5IENyeXN0YWwpICAKL0NyZWF0b3IgKENyeXN0YWwgUmVwb3J0cykgIAo+PiAKZW5kb2JqIAp4cmVmIAowIDU4IAowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDAwMTcgMDAwMDAgbiAKMDAwMDA3MzkxNyAwMDAwMCBuIAowMDAwMDc0MDIzIDAwMDAwIG4gCjAwMDAwNzQwNTcgMDAwMDAgbiAKMDAwMDAwMDE5NCAwMDAwMCBuIAowMDAwMDc0MDkxIDAwMDAwIG4gCjAwMDAwNzQzMTUgMDAwMDAgbiAKMDAwMDA3NDM3MyAwMDAwMCBuIAowMDAwMDc0NDY1IDAwMDAwIG4gCjAwMDAwNzQ2MzkgMDAwMDAgbiAKMDAwMDA3NDgxNCAwMDAwMCBuIAowMDAwMTExNjMwIDAwMDAwIG4gCjAwMDAxMTE2NjAgMDAwMDAgbiAKMDAwMDEyMTIzMCAwMDAwMCBuIAowMDAwMTIxMjYwIDAwMDAwIG4gCjAwMDAxMjUxOTQgMDAwMDAgbiAKMDAwMDEyNTIyNCAwMDAwMCBuIAowMDAwMTI1Mzk5IDAwMDAwIG4gCjAwMDAxMzA1MjkgMDAwMDAgbiAKMDAwMDEzMDU1OSAwMDAwMCBuIAowMDAwMTMxNzI5IDAwMDAwIG4gCjAwMDAxMzE3NTkgMDAwMDAgbiAKMDAwMDEzNjE5NCAwMDAwMCBuIAowMDAwMTM2MjI0IDAwMDAwIG4gCjAwMDAxMzcxOTggMDAwMDAgbiAKMDAwMDEzNzIyOCAwMDAwMCBuIAowMDAwMDAzNzIxIDAwMDAwIG4gCjAwMDAxMzc0MDMgMDAwMDAgbiAKMDAwMDEzNzUxNSAwMDAwMCBuIAowMDAwMTM3NTUwIDAwMDAwIG4gCjAwMDAxMzc2NDUgMDAwMDAgbiAKMDAwMDEzNzk5NCAwMDAwMCBuIAowMDAwMDA0OTI1IDAwMDAwIG4gCjAwMDAxMzgwMzIgMDAwMDAgbiAKMDAwMDEzODI5OSAwMDAwMCBuIAowMDAwMDA1NjQxIDAwMDAwIG4gCjAwMDAxMzgzNDIgMDAwMDAgbiAKMDAwMDEzODQ1NiAwMDAwMCBuIAowMDAwMDI1OTM5IDAwMDAwIG4gCjAwMDAxMzg1MDAgMDAwMDAgbiAKMDAwMDEzODc3MCAwMDAwMCBuIAowMDAwMDI2MzU4IDAwMDAwIG4gCjAwMDAxMzg4MTMgMDAwMDAgbiAKMDAwMDEzOTAyMiAwMDAwMCBuIAowMDAwMDM3MDM1IDAwMDAwIG4gCjAwMDAxMzkwNjIgMDAwMDAgbiAKMDAwMDEzOTMzMiAwMDAwMCBuIAowMDAwMDM3NTc3IDAwMDAwIG4gCjAwMDAxMzkzNzQgMDAwMDAgbiAKMDAwMDEzOTcyMyAwMDAwMCBuIAowMDAwMDQ5NzE2IDAwMDAwIG4gCjAwMDAxMzk3NTYgMDAwMDAgbiAKMDAwMDE0MDAyMyAwMDAwMCBuIAowMDAwMDUwNDIzIDAwMDAwIG4gCjAwMDAxNDAwNjYgMDAwMDAgbiAKMDAwMDE0MDEwNiAwMDAwMCBuIAowMDAwMTQwMTQzIDAwMDAwIG4gCnRyYWlsZXIgCjw8IAovU2l6ZSA1OCAKL1Jvb3QgMSAwIFIgCi9JbmZvIDU3IDAgUiAKPj4gCnN0YXJ0eHJlZiAKMTQwMjMxIAolJUVPRiAK";

      // window.open(this.convertBaseb64ToBlob(pdf_byte, 'data:application/pdf;base64'), '_blank');

      this.file.writeFile('file:///storage/emulated/0/Self_Service/', 'fffffff.pdf', this.convertBaseb64ToBlob(pdf_byte, 'data:application/pdf;base64'), { replace: true });


    }, (error) => {

      this.file.createDir('file:///storage/emulated/0/', 'Self_Service', false).then((DirectoryEntry) => {

        let pdf_byte = "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â€¦zIyIAo3MjIgCjY2NyAKNjExIAo2MTEgCjM4OSAKNTU2IAo1NTYgCjMzMyAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo4MzMgCjU1NiAKNTU2IAo4ODkgCjYxMSAKNTU2IAo3MjIgCjc3OCAKNjExIAo5NDQgCjMzMyAKNTg0IAo1ODQgCjU1NiAKMjc4IAo1NTYgCjU1NiAKMjc4IAo1NTYgCjY2NyAKNjY3IAo3NzggCjY2NyAKNzIyIAo2MTEgCjYxMSAKNzIyIAoyMzggCjcyMiAKNzc4IAozMzMgCjMzMyAKNTU2IAo3MjIgCl0gCmVuZG9iaiAKMzIgMCBvYmogCi9BQUFBQUErQXJpYWwtQm9sZCAKZW5kb2JqIAozNCAwIG9iaiAKPDwgCi9UeXBlIC9Gb250RGVzY3JpcHRvciAKL0FzY2VudCA5MDUgCi9DYXBIZWlnaHQgNTAwIAovRGVzY2VudCAtMjEyIAovRmxhZ3MgNSAKL0ZvbnRCQm94IDM1IDAgUiAKL0ZvbnROYW1lIDMyIDAgUiAKL0l0YWxpY0FuZ2xlIDAKL1N0ZW1WIDAgCi9TdGVtSCAwIAovQXZnV2lkdGggNDc5IAovRm9udEZpbGUyIDM2IDAgUiAKL0xlYWRpbmcgMCAKL01heFdpZHRoIDI2MjggCi9NaXNzaW5nV2lkdGggNDc5IAovWEhlaWdodCAwIAo+PiAKZW5kb2JqIAozNSAwIG9iaiAKWyAtNjI4IC0zNzYgMjAwMCAxMDEwIF0gCmVuZG9iaiAKMzcgMCBvYmogClsgCjY2NyAKMjc4IAo1NTYgCjU1NiAKNTU2IAoyNzggCjM4OSAKMzMzIAo2MTEgCjYxMSAKNjExIAoyNzggCjU1NiAKNjExIAo3NzggCjU1NiAKNjExIAo4ODkgCl0gCmVuZG9iaiAKMzggMCBvYmogCi9BQUFBQUQrQXJpYWwtQm9sZEl0YWxpYyAKZW5kb2JqIAo0MCAwIG9iaiAKPDwgCi9UeXBlIC9Gb250RGVzY3JpcHRvciAKL0FzY2VudCA5MDUgCi9DYXBIZWlnaHQgNTAwIAovRGVzY2VudCAtMjEyIAovRmxhZ3MgNjkgCi9Gb250QkJveCA0MSAwIFIgCi9Gb250TmFtZSAzOCAwIFIgCi9JdGFsaWNBbmdsZSAtMTIKL1N0ZW1WIDAgCi9TdGVtSCAwIAovQXZnV2lkdGggNDc5IAovRm9udEZpbGUyIDQyIDAgUiAKL0xlYWRpbmcgMCAKL01heFdpZHRoIDE3MTYgCi9NaXNzaW5nV2lkdGggNDc5IAovWEhlaWdodCAwIAo+PiAKZW5kb2JqIAo0MSAwIG9iaiAKWyAtNTYwIC0zNzYgMTE1NyAxMDAwIF0gCmVuZG9iaiAKNDMgMCBvYmogClsgCjk0NCAKNTU2IAo1NTYgCjU1NiAKMjc4IAo1NTYgCjU1NiAKNTAwIAoyMjIgCjU1NiAKNTU2IAo2NjcgCjYxMSAKNjExIAoyNzggCjIyMiAKNTAwIAo1MDAgCjU1NiAKNTU2IAo1NTYgCjMzMyAKNTAwIAo4MzMgCjI3OCAKMjc4IAoyNzggCjY2NyAKNTU2IAo1NTYgCjg4OSAKNjY3IAo2NjcgCjgzMyAKNzc4IAo2NjcgCjUwMCAKXSAKZW5kb2JqIAo0NCAwIG9iaiAKL0FBQUFBQytBcmlhbC1JdGFsaWMgCmVuZG9iaiAKNDYgMCBvYmogCjw8IAovVHlwZSAvRm9udERlc2NyaXB0b3IgCi9Bc2NlbnQgOTA1IAovQ2FwSGVpZ2h0IDUwMCAKL0Rlc2NlbnQgLTIxMiAKL0ZsYWdzIDY5IAovRm9udEJCb3ggNDcgMCBSIAovRm9udE5hbWUgNDQgMCBSIAovSXRhbGljQW5nbGUgLTEyCi9TdGVtViAwIAovU3RlbUggMCAKL0F2Z1dpZHRoIDQ0MSAKL0ZvbnRGaWxlMiA0OCAwIFIgCi9MZWFkaW5nIDAgCi9NYXhXaWR0aCAxNTk5IAovTWlzc2luZ1dpZHRoIDQ0MSAKL1hIZWlnaHQgMCAKPj4gCmVuZG9iaiAKNDcgMCBvYmogClsgLTUxNyAtMzI1IDEwODIgOTk4IF0gCmVuZG9iaiAKNDkgMCBvYmogClsgCjU1NiAKNTU2IAoyNzggCjU1NiAKNTU2IAo1NTYgCjU1NiAKNTU2IAo1NTYgCjU1NiAKNjY3IAo2NjcgCjU1NiAKNzIyIAo2NjcgCjcyMiAKNzIyIAo2NjcgCjYxMSAKNTAwIAo1NTYgCjU1NiAKNTU2IAo5NDQgCjczNyAKMjc4IAo1NTYgCjIyMiAKNTAwIAo1NTYgCjU1NiAKODMzIAo1MDAgCjI3OCAKMzMzIAo1NTYgCjU1NiAKNTAwIAo1NTYgCjI3OCAKNzIyIAoyMjIgCjU1NiAKNTAwIAo3MjIgCjU1NiAKNjY3IAo1NTYgCjI3OCAKNzc4IAozMzMgCjgzMyAKNTU2IAoyNzggCjcyMiAKNjY3IAo3NzggCjMzMyAKNTAwIAozMzMgCjI3OCAKNjY3IAo1MDAgCjUwMCAKMjc4IApdIAplbmRvYmogCjUwIDAgb2JqIAovQUFBQUFCK0FyaWFsIAplbmRvYmogCjUyIDAgb2JqIAo8PCAKL1R5cGUgL0ZvbnREZXNjcmlwdG9yIAovQXNjZW50IDkwNSAKL0NhcEhlaWdodCA1MDAgCi9EZXNjZW50IC0yMTIgCi9GbGFncyA1IAovRm9udEJCb3ggNTMgMCBSIAovRm9udE5hbWUgNTAgMCBSIAovSXRhbGljQW5nbGUgMAovU3RlbVYgMCAKL1N0ZW1IIDAgCi9BdmdXaWR0aCA0NDEgCi9Gb250RmlsZTIgNTQgMCBSIAovTGVhZGluZyAwIAovTWF4V2lkdGggMjY2NSAKL01pc3NpbmdXaWR0aCA0NDEgCi9YSGVpZ2h0IDAgCj4+IAplbmRvYmogCjUzIDAgb2JqIApbIC02NjUgLTMyNSAyMDAwIDEwMDYgXSAKZW5kb2JqIAo1NSAwIG9iaiAKKFBvd2VyZWQgQnkgQ3J5c3RhbCkgCmVuZG9iaiAKNTYgMCBvYmogCihDcnlzdGFsIFJlcG9ydHMpIAplbmRvYmogCjU3IDAgb2JqIAo8PCAKL1Byb2R1Y2VyIChQb3dlcmVkIEJ5IENyeXN0YWwpICAKL0NyZWF0b3IgKENyeXN0YWwgUmVwb3J0cykgIAo+PiAKZW5kb2JqIAp4cmVmIAowIDU4IAowMDAwMDAwMDAwIDY1NTM1IGYgCjAwMDAwMDAwMTcgMDAwMDAgbiAKMDAwMDA3MzkxNyAwMDAwMCBuIAowMDAwMDc0MDIzIDAwMDAwIG4gCjAwMDAwNzQwNTcgMDAwMDAgbiAKMDAwMDAwMDE5NCAwMDAwMCBuIAowMDAwMDc0MDkxIDAwMDAwIG4gCjAwMDAwNzQzMTUgMDAwMDAgbiAKMDAwMDA3NDM3MyAwMDAwMCBuIAowMDAwMDc0NDY1IDAwMDAwIG4gCjAwMDAwNzQ2MzkgMDAwMDAgbiAKMDAwMDA3NDgxNCAwMDAwMCBuIAowMDAwMTExNjMwIDAwMDAwIG4gCjAwMDAxMTE2NjAgMDAwMDAgbiAKMDAwMDEyMTIzMCAwMDAwMCBuIAowMDAwMTIxMjYwIDAwMDAwIG4gCjAwMDAxMjUxOTQgMDAwMDAgbiAKMDAwMDEyNTIyNCAwMDAwMCBuIAowMDAwMTI1Mzk5IDAwMDAwIG4gCjAwMDAxMzA1MjkgMDAwMDAgbiAKMDAwMDEzMDU1OSAwMDAwMCBuIAowMDAwMTMxNzI5IDAwMDAwIG4gCjAwMDAxMzE3NTkgMDAwMDAgbiAKMDAwMDEzNjE5NCAwMDAwMCBuIAowMDAwMTM2MjI0IDAwMDAwIG4gCjAwMDAxMzcxOTggMDAwMDAgbiAKMDAwMDEzNzIyOCAwMDAwMCBuIAowMDAwMDAzNzIxIDAwMDAwIG4gCjAwMDAxMzc0MDMgMDAwMDAgbiAKMDAwMDEzNzUxNSAwMDAwMCBuIAowMDAwMTM3NTUwIDAwMDAwIG4gCjAwMDAxMzc2NDUgMDAwMDAgbiAKMDAwMDEzNzk5NCAwMDAwMCBuIAowMDAwMDA0OTI1IDAwMDAwIG4gCjAwMDAxMzgwMzIgMDAwMDAgbiAKMDAwMDEzODI5OSAwMDAwMCBuIAowMDAwMDA1NjQxIDAwMDAwIG4gCjAwMDAxMzgzNDIgMDAwMDAgbiAKMDAwMDEzODQ1NiAwMDAwMCBuIAowMDAwMDI1OTM5IDAwMDAwIG4gCjAwMDAxMzg1MDAgMDAwMDAgbiAKMDAwMDEzODc3MCAwMDAwMCBuIAowMDAwMDI2MzU4IDAwMDAwIG4gCjAwMDAxMzg4MTMgMDAwMDAgbiAKMDAwMDEzOTAyMiAwMDAwMCBuIAowMDAwMDM3MDM1IDAwMDAwIG4gCjAwMDAxMzkwNjIgMDAwMDAgbiAKMDAwMDEzOTMzMiAwMDAwMCBuIAowMDAwMDM3NTc3IDAwMDAwIG4gCjAwMDAxMzkzNzQgMDAwMDAgbiAKMDAwMDEzOTcyMyAwMDAwMCBuIAowMDAwMDQ5NzE2IDAwMDAwIG4gCjAwMDAxMzk3NTYgMDAwMDAgbiAKMDAwMDE0MDAyMyAwMDAwMCBuIAowMDAwMDUwNDIzIDAwMDAwIG4gCjAwMDAxNDAwNjYgMDAwMDAgbiAKMDAwMDE0MDEwNiAwMDAwMCBuIAowMDAwMTQwMTQzIDAwMDAwIG4gCnRyYWlsZXIgCjw8IAovU2l6ZSA1OCAKL1Jvb3QgMSAwIFIgCi9JbmZvIDU3IDAgUiAKPj4gCnN0YXJ0eHJlZiAKMTQwMjMxIAolJUVPRiAK";

        this.file.writeFile('file:///storage/emulated/0/Self_Service/', 'fffffff.pdf', this.convertBaseb64ToBlob(pdf_byte, 'data:application/pdf;base64'), { replace: true });

      }, (error) => {
        console.log("Create error");
      });

    });
  }

  convertBaseb64ToBlob(b64Data, contentType): Blob {
    contentType = contentType || '';
    const sliceSize = 512;
    b64Data = b64Data.replace(/^[^,]+,/, '');
    b64Data = b64Data.replace(/\s/g, '');
    const byteCharacters = window.atob(b64Data);
    const byteArrays = [];
    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {
      const slice = byteCharacters.slice(offset, offset + sliceSize);
      const byteNumbers = new Array(slice.length);
      for (let i = 0; i < slice.length; i++) {
        byteNumbers[i] = slice.charCodeAt(i);
      }
      const byteArray = new Uint8Array(byteNumbers);
      byteArrays.push(byteArray);
    }
    return new Blob(byteArrays, { type: contentType });
  }

}
