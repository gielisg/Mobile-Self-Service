<!--
  Generated template for the MydetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="header-class">

  <ion-row class="header-row">
    <ion-col col-2>
      <ion-row class="full-height">
        <ion-icon name="md-menu" menuToggle class="header_icon"></ion-icon>
      </ion-row>
    </ion-col>
    <ion-col col-8>
      <ion-row class="full-height">
        <span class="header-span">
          {{ 'my_detail' | translate }}
        </span>
      </ion-row>
    </ion-col>
  </ion-row>

</ion-header>


<ion-content padding>

  <ion-row class="main_body">
    <ion-row class="normal-row">
      <ion-col col-10>
        <ion-row class="full-height">
          <span class="title-span">
            {{ 'name' | translate }}
          </span>
          <span class="detail-span" *ngIf="!change_state.username">
            {{user_Data.username}}
          </span>
          <mat-form-field class="full-width" *ngIf="change_state.username">
            <input matInput type="text" placeholder="{{ 'username' | translate }}" [(ngModel)]="user_Data.username" required name="username">
            <mat-error>
              {{ 'username_is_required' | translate }}
            </mat-error>
          </mat-form-field>
        </ion-row>
      </ion-col>
      <ion-col col-2>
        <ion-row class="full-height" *ngIf="!change_state.username" (click)="change_user('username')">
          <img src="assets/imgs/pencil.png" class="pencil_class" />
        </ion-row>
        <ion-row class="full-height" *ngIf="change_state.username" (click)="change_user('username')">
          <span class="change-span">
            {{ 'ok' | translate }}
          </span>
        </ion-row>
      </ion-col>
    </ion-row>

    <ion-row class="border-row">
    </ion-row>

    <ion-row class="normal-row">
      <ion-col col-10>
        <ion-row class="full-height">
          <span class="title-span">
            {{ 'address' | translate }}
          </span>
          <span class="detail-span" *ngIf="!change_state.address">
            {{user_Data.address}}
          </span>
          <mat-form-field class="full-width" *ngIf="change_state.address">
            <input matInput type="text" placeholder="{{ 'address' | translate }}" [(ngModel)]="user_Data.address" required name="address">
            <mat-error>
              {{ 'address_is_required' | translate }}
            </mat-error>
          </mat-form-field>
        </ion-row>
      </ion-col>
      <ion-col col-2>
        <ion-row class="full-height" *ngIf="!change_state.address" (click)="change_user('address')">
          <img src="assets/imgs/pencil.png" class="pencil_class" />
        </ion-row>
        <ion-row class="full-height" *ngIf="change_state.address" (click)="change_user('address')">
          <span class="change-span">
            {{ 'ok' | translate }}
          </span>
        </ion-row>
      </ion-col>
    </ion-row>

    <ion-row class="border-row">
    </ion-row>

    <ion-row class="normal-row" *ngIf="!change_state.email">
      <ion-col col-10>
        <ion-row class="full-height">
          <span class="title-span">
            {{ 'email' | translate }}
          </span>
          <span class="detail-span">
            {{user_Data.email}}
          </span>
        </ion-row>
      </ion-col>
      <ion-col col-2>
        <ion-row class="full-height" (click)="change_user('email')">
          <img src="assets/imgs/pencil.png" class="pencil_class" />
        </ion-row>
      </ion-col>
    </ion-row>

    <ion-row class="normal-row" *ngIf="change_state.email">
      <form #comProfileForm="ngForm" id="comProfileForm" (ngSubmit)="completeAddCompany(comProfileForm)" novalidate>
        <ion-row>
          <ion-col col-10>
            <ion-row class="full-height">
              <span class="title-span">
                {{ 'email' | translate }}
              </span>
              <mat-form-field class="full-width">
                <input matInput type="email" placeholder="{{ 'email' | translate }}" [formControl]="emailFormControl" [(ngModel)]="user_Data.email"
                  required name="email">

                <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
                  {{ 'valid_email_address' | translate }}
                </mat-error>

                <mat-error *ngIf="emailFormControl.hasError('required')">
                  {{ 'email_is_required' | translate }}
                </mat-error>

              </mat-form-field>
            </ion-row>
          </ion-col>
          <ion-col col-2>
            <ion-row class="full-height button">
              <button class="change-span">
                {{ 'ok' | translate }}
              </button>
            </ion-row>
          </ion-col>
        </ion-row>
      </form>
    </ion-row>

    <ion-row class="border-row">
    </ion-row>

    <ion-row class="normal-row">
      <form #userPhone="ngForm" id="userPhone" (ngSubmit)="changePhone()" novalidate>
        <ion-row>
          <ion-col col-10>
            <ion-row class="full-height">
              <span class="title-span">
                {{ 'contact' | translate }}
              </span>
              <span class="detail-span" *ngIf="!change_state.phone">
                +{{user_Data.phone}}
              </span>
              <mat-form-field class="full-width" *ngIf="change_state.phone">
                <input matInput type="number" [formControl]="phoneFormCtrl" placeholder="{{ 'phone_number' | translate }}" [(ngModel)]="user_Data.phone"
                  required name="phone">
                <!-- <mat-error>
                {{ 'phone_number_is_required' | translate }}
              </mat-error> -->

                <mat-error *ngIf="phoneFormCtrl.hasError('pattern') && !phoneFormCtrl.hasError('required')">
                  {{ 'valid_phone_number' | translate }}
                </mat-error>

                <mat-error *ngIf="phoneFormCtrl.hasError('required')">
                  {{ 'phone_number_is_required' | translate }}
                </mat-error>

              </mat-form-field>
            </ion-row>
          </ion-col>
          <ion-col col-2>
            <ion-row class="full-height" *ngIf="!change_state.phone" (click)="change_user('phone')">
              <img src="assets/imgs/pencil.png" class="pencil_class" />
            </ion-row>
            <ion-row class="full-height" *ngIf="change_state.phone">
              <button class="change-span">
                {{ 'ok' | translate }}
              </button>
            </ion-row>
          </ion-col>
        </ion-row>
      </form>
    </ion-row>
  </ion-row>

</ion-content>